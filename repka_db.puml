@startuml
!define primary_key(x) <b><color:#b8861b><&key></color> x</b>
!define foreign_key(x) <color:#aaaaaa><&key></color> x
!define column(x) <color:#efefef><&media-record></color> x
!define table(x) entity x << (T, white) >>

table( suppliers ){
    /'Таблица поставщик'/
    primary_key( id ): UUID
    column( login ): TEXT /'логин поставщика'/
    column( password ): TEXT /'пароль поставщика'/
    column( company_name ): TEXT /'название компании'/
    column( contact_name ): TEXT /'имя поставщика'/
    column( contact_adress ): TEXT /'адрес поставщика'/
    column( phone_number ): TEXT /'номер телефона поставщика'/
    column( email ): TEXT /'почта поставщика'/
    column( site ): TEXT /'сайт поставщика'/
    foreign_key( social_network_id ): UUID <<FK>> /'социальные сети поставщика'/
    column( delivery_min_price ): INTEGER /'минимальная цена товара'/
    column( estimate_delivery_time ): datetime /'предполагаемое время доставки'/
    foreign_key( city_tags_id ): UUID <<FK>> /'города доставки'/
    foreign_key( day_tags_id ): UUID <<FK>> /'дни доставки (пн, вт, ср и тд)'/
    foreign_key( time_tags_id ): UUID /'время доставки'/
    foreign_key( day_tags_id ): UUID <<FK>> /'дни приема заявок (пн, вт, ср и тд)'/
    foreign_key( application_time ): UUID <<FK>> /'время приема заявок'/
    column( ooo ): TEXT /'ООО,ИП'/
    column( ogrn ): TEXT /'ОГРН'/
    column( inn ): TEXT /'ИНН'/
    column( bank_account ): TEXT /'расчетный счет'/
    foreign_key( supllier_cert_id ): UUID <<FK>> /'сертификаты'/
    foreign_key( good_id ): UUID <<FK>> /'Товары'/
    foreign_key( horeca_application_id ): UUI <<FK>> /'Заяки клиентов'/
    column( created ): datetime /'дата создания карточки поставщика'/
    column( modified ): datetime /'дата изменения карточки поставщика'/
}

table( social_network ){
    /'Таблица социальных сетей'/
    primary_key( id ): UUID
    column( social_media_type ): TEXT /'тип социальной сети (VK, Instagram, etc.)'/
    column( url ): TEXT /'ссылка на социальную сеть поставщика'/
}

table( day_tags ){
    /'Таблица тегов дней недели'/
    primary_key( id ): UUID
    column( week_day ): TEXT
}

table( city_tags ){
    /'Таблица тегов городов'/
    primary_key( id ): UUID
    column( city ): TEXT
}

table( time_tags ){
    /'Таблица тегов диапазонов времени'/
    primary_key( id ): UUID
    column( time_range ): time
}

table( supplier_cert ){
    /'Таблица сертификатов клиента'/
    primary_key( id ): UUID
    column( certificate ): bytea
}

table( good ){
    /'Таблица товаров'/
    primary_key( id ): UUID
    foreign_key( good_tag_id ): UUID <<FK>>
    column( photo ): TEXT /'Путь до фотографии с товаром'/
    column( price ): INTEGER /'Цена за единицу'/
    column( volume ): INTEGER  /'Объем'/
    column( balance ): INTEGER /'Остаток'/
    column( calories ): INTEGER /'Калории'/
    column( proteins ): INTEGER /'Белки'/
    column( fats ): INTEGER /'Жиры'/
    column( carbohydrates ): INTEGER /'Углеводы'/
}

table( good_tag ){
    /'Таблица тэгов категорий товаров'/
    primary_key( id ): UUID
    column( good_category ): TEXT /'Название категории товара'/
}

table( horeca ){
    primary_key( id ): UUID
    column( login ): TEXT /'Логин хореки'/
    column( password ): TEXT /'Пароль хореки'/
    column( name ): TEXT /'Имя хореки'/
    column( company_name ): TEXT /'Название компании хореки'/
    column( phone_number ): TEXT /'Номер телефона хореки'/
    column( email ): TEXT /'имейл хореки'/
    foreign_key( good_id ): UUID <<FK>> /'Избранное хореки'/
    foreign_key( restaurant_id ): UUID <<FK>> /'Рестораны хореки'/
    column( ooo ): TEXT /'ООО ИП хореки'/
    column( inn ): TEXT /'ИНН хореки'/
    column( banck_account ): TEXT /'Расчетный счет хореки'/
    foreign_key( horeca_basket ): UUID <<FK>> /'Корзина хореки'/
}

table( horeca_basket ){
    primary_key( id ): UUID
    foreign_key( horeca_id ): UUID <<FK>>
    foreign_key( good_id ): UUID <<FK>>
}

table( restaurant ){
    primary_key( id ): UUID
    column( restaurant_name ): TEXTcolumn( restaurant_theme ): TEXT
    column( adress ): TEXT
}

table( horeca_application ){
    primary_key( id ): UUID
    foreign_key( horeca_id ): UUID <<FK>>
    foreign_key( good_id ): UUID <<FK>>
}

suppliers ||--o{ social_network
suppliers ||--o{ day_tags
suppliers ||--o{ city_tags
suppliers ||--o{ time_tags
suppliers ||--o{ supplier_cert
suppliers ||--o{ good
suppliers ||--o{ horeca_applicaton

good ||--o{ good_tag

horeca ||--o{ restaurant
horeca ||--o{ good
horeca ||--o{ horeca_basket

horeca_basket ||--o{ good
horeca_basket ||--o{ horeca

horeca_application ||--o{ good
horeca_application ||--o{ horeca

@enduml